name: Variaveis no n√≠vel do step
on: push
jobs:
  
  docker:
      runs-on: ubuntu-latest
      steps:
         - name: Fazendo build da imagem Docker
           env:
             CONTAINER_REGISTRY: docker.io
             DOCKER_USERNAME: trbarbosa
             IMAGE_NAME: github_actions_nginx
           run: echo docker build -t $CONTAINER_REGISTRY/$DOCKER_USERNAME/$IMAGE_NAME:latest

         - name: Fazendo login no Docker Hub
           env:
             DOCKER_LOGIN: trbarbosa
             DOCKER_PASSWORD: minhasenha@@
           run: echo docker login --username=$DOCKER_USERNAME --password=$DOCKER_PASSWORD

         - name: Fazendo o upload da image Docker
           env: 
             CONTAINER_REGISTRY: docker.io
             DOCKER_USERNAME: trbarbosa
             IMAGE_NAME: github_actions_nginx
           run: echo docker push $CONTAINER_REGISTRY/$DOCKER_USERNAME/$IMAGE_NAME:latest