name: Variaveis no n√≠vel do workflow
on: push
env:
  CONTAINER_REGISTRY: docker.io
  DOCKER_USERNAME: trbarbosa
  IMAGE_NAME: github_actions_nginx
jobs:
  
  docker:
      runs-on: ubuntu-latest
      steps:
         - name: Fazendo build da imagem Docker
           run: echo docker build -t $CONTAINER_REGISTRY/$DOCKER_USERNAME/$IMAGE_NAME:latest

         - name: Fazendo login no Docker Hub
           env:
             DOCKER_PASSWORD: minhasenha@@
           run: echo docker login --username=$DOCKER_USERNAME --password=$DOCKER_PASSWORD

         - name: Fazendo o upload da image Docker
           run: echo docker push $CONTAINER_REGISTRY/$DOCKER_USERNAME/$IMAGE_NAME:latest